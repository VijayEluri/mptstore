<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_29) on Tue Feb 14 13:02:42 SGT 2012 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
DatabaseAdaptor (MPTStore RDF Storage Engine 0.9.6-SNAPSHOT API)
</TITLE>

<META NAME="date" CONTENT="2012-02-14">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DatabaseAdaptor (MPTStore RDF Storage Engine 0.9.6-SNAPSHOT API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/DatabaseAdaptor.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/nsdl/mptstore/core/ClosableIterator.html" title="interface in org.nsdl.mptstore.core"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/nsdl/mptstore/core/DDLGenerator.html" title="interface in org.nsdl.mptstore.core"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/nsdl/mptstore/core/DatabaseAdaptor.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DatabaseAdaptor.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.nsdl.mptstore.core</FONT>
<BR>
Interface DatabaseAdaptor</H2>
<DL>
<DT><B>All Known Implementing Classes:</B> <DD><A HREF="../../../../org/nsdl/mptstore/core/GenericDatabaseAdaptor.html" title="class in org.nsdl.mptstore.core">GenericDatabaseAdaptor</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public interface <B>DatabaseAdaptor</B></DL>
</PRE>

<P>
The main high-level interface for working with a triplestore.

 <p>
   With a <code>DatabaseAdaptor</code>, you can add and delete triples
   and perform interpreted queries against the triplestore.
 </p>
 <p>
   Note that each method takes an existing JDBC <code>Connection</code> as a
   parameter.  Client applications are expected to open/close or
   borrow/release connections as needed.  In addition, transaction
   boundaries are expected to be managed externally.
 </p>
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>cwilper@cs.cornell.edu</DD>
</DL>
<HR>

<P>

<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/nsdl/mptstore/core/DatabaseAdaptor.html#addTriples(java.sql.Connection, java.util.Iterator)">addTriples</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&nbsp;conn,
           <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</A>&lt;<A HREF="../../../../org/nsdl/mptstore/rdf/Triple.html" title="class in org.nsdl.mptstore.rdf">Triple</A>&gt;&nbsp;triples)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add the given triples.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/nsdl/mptstore/core/DatabaseAdaptor.html#deleteAllTriples(java.sql.Connection)">deleteAllTriples</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&nbsp;conn)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Delete all triples.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/nsdl/mptstore/core/DatabaseAdaptor.html#deleteTriples(java.sql.Connection, java.util.Iterator)">deleteTriples</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&nbsp;conn,
              <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</A>&lt;<A HREF="../../../../org/nsdl/mptstore/rdf/Triple.html" title="class in org.nsdl.mptstore.rdf">Triple</A>&gt;&nbsp;triples)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Delete the given triples.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/nsdl/mptstore/query/QueryResults.html" title="interface in org.nsdl.mptstore.query">QueryResults</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/nsdl/mptstore/core/DatabaseAdaptor.html#query(java.sql.Connection, org.nsdl.mptstore.query.lang.QueryLanguage, int, boolean, java.lang.String)">query</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&nbsp;connection,
      <A HREF="../../../../org/nsdl/mptstore/query/lang/QueryLanguage.html" title="class in org.nsdl.mptstore.query.lang">QueryLanguage</A>&nbsp;lang,
      int&nbsp;fetchSize,
      boolean&nbsp;autoReleaseConnection,
      <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;queryText)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Evaluate the given query in the specified language and return
 the results.</TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="addTriples(java.sql.Connection, java.util.Iterator)"><!-- --></A><H3>
addTriples</H3>
<PRE>
void <B>addTriples</B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&nbsp;conn,
                <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</A>&lt;<A HREF="../../../../org/nsdl/mptstore/rdf/Triple.html" title="class in org.nsdl.mptstore.rdf">Triple</A>&gt;&nbsp;triples)
                throws <A HREF="../../../../org/nsdl/mptstore/core/ModificationException.html" title="class in org.nsdl.mptstore.core">ModificationException</A></PRE>
<DL>
<DD>Add the given triples.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>conn</CODE> - The database connection to use.<DD><CODE>triples</CODE> - The triples to add.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/nsdl/mptstore/core/ModificationException.html" title="class in org.nsdl.mptstore.core">ModificationException</A></CODE> - if the operation failed for any reason.</DL>
</DD>
</DL>
<HR>

<A NAME="deleteTriples(java.sql.Connection, java.util.Iterator)"><!-- --></A><H3>
deleteTriples</H3>
<PRE>
void <B>deleteTriples</B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&nbsp;conn,
                   <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Iterator.html?is-external=true" title="class or interface in java.util">Iterator</A>&lt;<A HREF="../../../../org/nsdl/mptstore/rdf/Triple.html" title="class in org.nsdl.mptstore.rdf">Triple</A>&gt;&nbsp;triples)
                   throws <A HREF="../../../../org/nsdl/mptstore/core/ModificationException.html" title="class in org.nsdl.mptstore.core">ModificationException</A></PRE>
<DL>
<DD>Delete the given triples.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>conn</CODE> - The database connection to use.<DD><CODE>triples</CODE> - The triples to delete.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/nsdl/mptstore/core/ModificationException.html" title="class in org.nsdl.mptstore.core">ModificationException</A></CODE> - if the operation failed for any reason.</DL>
</DD>
</DL>
<HR>

<A NAME="deleteAllTriples(java.sql.Connection)"><!-- --></A><H3>
deleteAllTriples</H3>
<PRE>
void <B>deleteAllTriples</B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&nbsp;conn)
                      throws <A HREF="../../../../org/nsdl/mptstore/core/ModificationException.html" title="class in org.nsdl.mptstore.core">ModificationException</A></PRE>
<DL>
<DD>Delete all triples.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>conn</CODE> - The database connection to use.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/nsdl/mptstore/core/ModificationException.html" title="class in org.nsdl.mptstore.core">ModificationException</A></CODE> - if the operation failed for any reason.</DL>
</DD>
</DL>
<HR>

<A NAME="query(java.sql.Connection, org.nsdl.mptstore.query.lang.QueryLanguage, int, boolean, java.lang.String)"><!-- --></A><H3>
query</H3>
<PRE>
<A HREF="../../../../org/nsdl/mptstore/query/QueryResults.html" title="interface in org.nsdl.mptstore.query">QueryResults</A> <B>query</B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&nbsp;connection,
                   <A HREF="../../../../org/nsdl/mptstore/query/lang/QueryLanguage.html" title="class in org.nsdl.mptstore.query.lang">QueryLanguage</A>&nbsp;lang,
                   int&nbsp;fetchSize,
                   boolean&nbsp;autoReleaseConnection,
                   <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;queryText)
                   throws <A HREF="../../../../org/nsdl/mptstore/query/QueryException.html" title="class in org.nsdl.mptstore.query">QueryException</A></PRE>
<DL>
<DD>Evaluate the given query in the specified language and return
 the results.

 <h2>Who releases the connection?</h2>
 <p>
   That depends.  If <code>autoReleaseConnection</code> is
   <code>true</code>, the caller is guaranteed that if the query
   fails or the results are closed at any time, the connection
   will be restored to auto-commit mode and released.  This
   can greatly simplify the caller's job as it can forget about
   the connection and just make sure the <code>QueryResults</code>
   object is closed.
 </p>
 <p>
   On the other hand, if <code>autoReleaseConnection</code>
   is <code>false</code>, the caller is entirely responsible
   for the connection.  This is useful in cases where the
   query is only part of an as-yet incomplete transaction.
 </p>

 <h2>How do I avoid running out of memory?</h2>
 <p>
   The <code>fetchSize</code> parameter can be used to avoid
   memory exhaustion when the number of expected results may be
   very large.  The parameter acts as a hint to the JDBC driver
   as to the number of rows that should be retrieved from the
   database at a time.
 </p>
 <p>
   If specified as <code>0</code>, the hint is ignored and the
   database will likely send all results at once for each
   <code>ResultSet</code>.  On very large result sets, this can
   result in memory exhaustion.
 </p>
 <p>
   If you don't want to accept the default behavior, you should
   also be aware of how the underlying RDBMS handles fetch sizes.
   For example:
   <ul>
     <li> As of MySQL 5.0, the only valid values for fetchSize are
          <code>0</code> and <code>Integer.MIN_VALUE</code>.
          The latter actually provides one result at a time
          and has table locking consequences.
     </li>
     <li> As of Postgres 8.1, any custom fetch size will work,
          but "implicit cursors" are not supported, so the query
          must occur within a transaction in order for the
          value to be respected.
     </li>
   </ul>
 </p>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>connection</CODE> - the database connection to use.<DD><CODE>lang</CODE> - the language of the query.<DD><CODE>fetchSize</CODE> - gives the JDBC driver a hint as to the number of rows
                  that should be fetched from the database when more
                  rows are needed.  If zero, the hint is ignored and the
                  database may send all results to the driver at once.<DD><CODE>autoReleaseConnection</CODE> - whether to automatically release/close
                  the connection if the query fails or the results
                  are closed.<DD><CODE>queryText</CODE> - The query.
<DT><B>Returns:</B><DD>the results.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/nsdl/mptstore/query/QueryException.html" title="class in org.nsdl.mptstore.query">QueryException</A></CODE> - if the query failed for any reason.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/DatabaseAdaptor.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/nsdl/mptstore/core/ClosableIterator.html" title="interface in org.nsdl.mptstore.core"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/nsdl/mptstore/core/DDLGenerator.html" title="interface in org.nsdl.mptstore.core"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/nsdl/mptstore/core/DatabaseAdaptor.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DatabaseAdaptor.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2006-2012 <a href="http://www.duraspace.org/">DuraSpace</a>. All Rights Reserved.
</BODY>
</HTML>
